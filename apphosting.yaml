runConfig:
  cpu: 2
  memoryMiB: 1024
  maxInstances: 10
  minInstances: 0
  concurrency: 80

env:
  # Firebase Configuration
  - variable: NEXT_PUBLIC_FIREBASE_API
    secret: firebase-api-key
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_DOMAIN
    secret: firebase-auth-domain
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_P_ID
    secret: firebase-project-id
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_STORAGE_BUCKET
    secret: firebase-storage-bucket
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_M_SENDER_ID
    secret: firebase-messaging-sender-id
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    secret: firebase-app-id
    availability:
      - BUILD
      - RUNTIME

  # Next.js Configuration
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME

  # Application Configuration
  - variable: APP_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME

# Build and run scripts for Next.js
scripts:
  buildCommand: npm run build
  runCommand: npm start
